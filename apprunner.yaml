version: 1.0
runtime: python311
build:
  commands:
    build:
      - python3 -m pip install -r requirements.txt -t /app/deps
      - PYTHONPATH=/app/deps python3 -m playwright install chromium
run:
  command: sh -c "export PYTHONPATH=/app/deps:$PYTHONPATH && python3 -m uvicorn api_server:app --host 0.0.0.0 --port 8000 --log-level info"
  network:
    port: 8000
